/* Theme System - Dark/Light Mode */

/* Dark Theme Variables */
[data-theme="dark"] {
    --color-bg: #1a0f0a;
    --color-text: #e8dfd0;
    --color-primary: #d2691e;
    --color-secondary: #cd853f;
    --color-accent: #daa520;
    --color-surface: #2d1810;
    --color-surface-alt: #3d2820;
    --color-border: #4d3828;
    --color-shadow: rgba(0, 0, 0, 0.3);
    --color-overlay: rgba(0, 0, 0, 0.8);
}

/* Auto Dark Mode based on system preference */
@media (prefers-color-scheme: dark) {
    :root {
        --color-bg: #1a0f0a;
        --color-text: #e8dfd0;
        --color-primary: #d2691e;
        --color-secondary: #cd853f;
        --color-accent: #daa520;
        --color-surface: #2d1810;
        --color-surface-alt: #3d2820;
        --color-border: #4d3828;
        --color-shadow: rgba(0, 0, 0, 0.3);
        --color-overlay: rgba(0, 0, 0, 0.8);
    }
}

/* Light theme overrides for users who explicitly choose light mode */
[data-theme="light"] {
    --color-bg: #f5f1ea;
    --color-text: #2d1810;
    --color-primary: #8b4513;
    --color-secondary: #d2691e;
    --color-accent: #cd853f;
    --color-surface: #fff;
    --color-surface-alt: #e8dfd0;
    --color-border: #c9b998;
    --color-shadow: rgba(45, 24, 16, 0.1);
    --color-overlay: rgba(45, 24, 16, 0.7);
}

/* Theme transition for smooth switching */
body {
    transition: background-color 300ms ease-in-out, color 300ms ease-in-out;
}

.site-header,
.site-footer,
.feature-card,
.item-card,
.character-card,
.boss-card,
.synergy-card,
.guide-card,
.content-article,
.modal-content,
.quick-link-card,
.filters-panel {
    transition: background-color 300ms ease-in-out, border-color 300ms ease-in-out;
}

/* Theme-specific adjustments for better contrast */
[data-theme="dark"] .badge-common { background: #1a5d1a; color: #90ee90; }
[data-theme="dark"] .badge-uncommon { background: #1a4d5d; color: #add8e6; }
[data-theme="dark"] .badge-rare { background: #4d1a5d; color: #dda0dd; }
[data-theme="dark"] .badge-legendary { background: #5d4d1a; color: #ffd700; }

/* Ensure images work well in both themes */
img {
    transition: opacity 300ms ease-in-out;
}

[data-theme="dark"] img {
    opacity: 0.95;
}

/* Focus indicators - enhanced for dark mode */
[data-theme="dark"] .btn-icon:focus-visible,
[data-theme="dark"] .filter-input:focus,
[data-theme="dark"] .filter-select:focus,
[data-theme="dark"] .search-input-large:focus {
    outline-color: var(--color-accent);
}

/* Code and pre elements for theme-aware syntax */
code, pre {
    background: var(--color-surface-alt);
    color: var(--color-text);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
    padding: var(--spacing-xs) var(--spacing-sm);
    font-family: var(--font-mono);
}

pre {
    padding: var(--spacing-md);
    overflow-x: auto;
}

/* Selection color */
::selection {
    background: var(--color-primary);
    color: white;
}

/* Scrollbar theming (Webkit) */
::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

::-webkit-scrollbar-track {
    background: var(--color-surface);
}

::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary);
}

/* Firefox scrollbar */
* {
    scrollbar-width: thin;
    scrollbar-color: var(--color-border) var(--color-surface);
}
